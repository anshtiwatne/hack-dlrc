from random import random, randint
import json
import math


def generate_problem():
    out = ""
    for _ in range(2048):  # we can go wild with this one
        p = random()

        if p < 0.60:  # 60% chance it North or East
            out += "NE"[randint(0, 1)] + "\n"
        if p < 0.98:  # 38% chance it is West or South
            out += "WS"[randint(0, 1)] + "\n"
        else:  # 2% chance it is a reset
            out += "R\n"
    return out

inp = """
N
W
E
W
W
E
S
E
W
N
W
N
S
N
S
S
N
W
N
S
S
W
S
N
S
W
W
E
W
N
W
R
E
W
N
S
S
W
N
S
W
N
S
N
W
E
S
E
W
N
S
S
E
S
N
S
N
W
W
S
E
W
N
W
N
S
W
E
S
N
S
S
W
E
W
E
S
N
W
E
S
W
E
S
S
W
E
W
W
N
S
E
W
N
S
N
W
W
N
S
S
S
N
S
S
S
N
W
E
S
E
S
N
W
N
W
E
W
E
S
S
W
W
E
S
E
W
E
S
S
W
W
W
S
W
R
W
W
W
S
W
E
S
W
E
S
W
E
S
E
S
W
N
W
N
S
E
W
W
N
W
S
N
W
E
W
W
E
W
N
S
N
W
W
E
S
E
W
E
S
N
S
W
N
W
S
W
W
E
S
N
W
E
S
E
W
S
S
N
S
E
S
W
E
S
E
W
S
E
S
N
S
S
E
S
S
W
N
W
E
W
E
S
S
E
W
S
N
S
S
S
N
W
N
S
S
E
W
E
W
E
W
S
N
S
W
W
N
W
E
W
E
W
S
N
W
E
W
S
E
W
W
E
W
S
N
W
E
S
S
W
E
S
E
S
E
W
W
N
W
N
W
N
W
E
W
W
E
S
N
W
E
S
R
W
S
E
S
N
S
E
W
E
S
W
N
W
E
W
W
W
N
S
S
E
W
S
E
S
W
E
S
W
W
S
E
S
N
W
E
W
W
S
N
S
N
W
N
S
E
W
W
W
E
W
S
W
W
S
E
W
W
E
S
S
E
W
W
N
W
W
W
S
W
S
W
N
W
N
W
N
S
E
W
W
W
N
S
S
N
W
E
W
N
W
W
S
S
S
W
S
S
E
S
N
W
E
W
W
N
W
W
E
W
W
N
W
W
E
S
S
N
W
E
W
E
S
S
N
S
N
W
E
W
E
W
E
S
S
N
W
E
S
W
E
S
E
W
E
W
N
W
E
W
N
W
W
E
W
E
W
S
W
W
E
W
W
N
W
W
S
S
W
E
W
S
S
N
W
N
S
N
S
E
S
E
S
N
W
R
E
S
W
N
W
W
S
W
N
W
E
S
S
W
N
S
S
S
N
W
E
W
W
S
W
S
W
E
S
W
W
W
E
S
E
S
N
S
R
N
W
W
S
N
W
E
W
S
N
W
W
E
W
S
W
E
S
N
W
S
N
W
W
E
S
E
W
N
S
E
S
W
S
S
N
S
N
S
W
W
E
S
N
W
N
W
E
W
W
E
W
E
S
N
S
N
W
W
E
S
S
N
W
W
S
N
W
N
W
W
S
E
W
E
S
N
W
W
E
W
S
E
S
E
W
N
S
N
W
W
W
S
E
S
N
S
E
W
E
S
W
E
W
N
W
S
E
S
E
S
N
W
E
W
N
W
N
S
S
E
W
S
E
W
N
S
E
W
E
W
W
W
N
W
E
S
W
N
W
W
R
N
W
N
S
R
S
N
S
N
S
E
W
E
W
S
E
W
N
S
S
N
S
E
S
N
W
N
W
E
W
W
N
W
E
W
R
S
E
S
E
S
N
S
E
S
W
N
W
E
S
W
E
W
E
W
E
S
W
E
S
W
N
W
E
W
S
N
S
W
R
E
S
R
W
W
W
E
W
S
E
S
N
W
N
W
R
S
W
N
W
S
E
S
N
S
S
W
N
S
W
W
N
S
E
S
E
W
E
W
E
W
N
W
W
S
E
W
E
W
N
S
W
N
S
E
W
N
W
E
W
E
W
N
W
R
N
W
N
S
E
W
N
W
E
W
S
W
N
W
E
S
N
W
N
W
E
S
E
W
W
S
N
S
S
E
S
N
W
S
S
N
W
W
N
W
N
S
N
W
E
W
N
S
W
S
N
W
E
W
E
W
S
N
S
E
S
S
S
N
W
W
S
S
E
S
E
S
E
W
N
S
S
N
S
N
S
N
S
W
S
N
S
E
S
N
S
N
W
N
S
N
W
W
W
W
R
N
W
E
W
N
W
S
N
W
E
S
N
S
N
W
N
S
E
W
N
S
R
W
N
S
S
S
N
S
N
S
W
W
S
E
W
S
E
S
E
S
E
S
S
E
W
E
S
W
N
S
W
E
W
W
E
S
S
E
W
E
S
N
S
W
E
S
E
W
E
S
N
S
E
S
N
W
S
N
S
W
E
W
N
W
N
S
E
W
W
W
N
W
E
W
W
N
S
N
S
E
S
N
W
N
S
E
W
N
S
S
N
S
E
W
E
W
E
W
E
S
S
W
W
S
S
S
R
S
S
N
W
W
S
W
S
E
W
N
W
N
S
E
S
S
S
W
N
W
E
S
W
S
S
E
S
N
S
N
S
W
E
S
E
W
N
W
E
W
S
W
E
W
N
S
N
W
W
N
W
S
N
S
W
E
W
N
S
N
W
S
E
W
S
N
S
E
W
E
S
E
W
N
W
E
W
W
E
W
E
S
E
W
W
E
S
E
S
W
W
S
W
N
W
E
W
E
S
W
S
E
S
E
W
R
S
E
W
E
W
E
S
E
S
W
N
W
W
N
S
W
E
W
N
S
S
E
W
N
W
W
S
N
S
N
W
S
N
W
N
S
S
S
E
W
E
W
W
W
N
S
N
S
S
W
N
S
W
N
W
N
S
E
W
E
S
S
N
W
W
N
S
S
W
E
W
E
W
S
S
E
W
N
W
N
W
W
S
N
W
W
N
W
N
S
E
W
N
W
S
E
S
E
S
N
S
N
S
E
W
N
W
E
W
E
W
E
S
S
S
E
W
S
N
W
N
S
E
S
N
W
R
E
W
N
W
W
W
N
S
N
W
E
W
S
S
S
E
W
N
W
E
W
W
N
W
E
S
E
W
W
E
S
E
S
E
W
E
S
E
W
W
E
W
E
S
W
N
S
E
W
N
W
S
E
W
E
W
W
W
R
N
W
S
S
E
S
N
S
S
W
E
W
W
N
W
E
S
N
W
N
S
S
S
E
S
E
S
W
E
S
S
N
S
E
W
R
N
W
E
W
E
W
N
S
W
N
S
S
N
S
N
S
S
W
N
W
N
W
S
N
W
W
E
W
E
W
E
S
W
E
S
E
S
N
S
N
W
E
S
E
S
N
W
N
W
E
W
W
E
W
N
S
N
S
N
W
N
W
E
W
N
S
W
W
S
N
S
S
W
N
W
E
S
E
W
E
W
W
E
S
E
S
N
S
N
W
W
E
W
S
E
W
N
S
N
S
N
S
N
W
W
E
S
N
W
N
S
N
S
S
E
W
N
S
S
E
S
E
S
N
W
E
S
E
S
E
W
E
W
W
W
W
R
S
E
W
E
S
S
S
W
W
W
N
S
N
W
N
S
N
W
E
W
E
S
E
S
E
S
E
W
N
W
R
S
S
E
S
E
W
S
N
W
E
W
E
S
W
W
N
S
N
W
E
W
S
E
S
E
W
E
W
S
E
W
W
N
S
S
N
W
E
S
N
S
S
E
S
N
S
E
W
W
E
W
E
S
N
S
E
S
E
S
E
W
N
W
S
N
S
N
S
W
N
W
E
W
S
N
S
N
S
E
S
N
W
E
S
N
W
E
W
W
W
N
S
N
S
E
W
N
W
E
W
N
W
S
E
S
N
S
W
N
W
N
S
E
S
N
W
W
E
S
E
S
N
W
E
W
S
N
S
E
S
E
W
W
W
E
S
S
N
S
S
S
E
S
S
E
S
N
W
W
E
W
S
N
W
S
W
N
S
R
E
W
E
W
N
W
S
W
N
S
E
W
E
S
E
W
E
S
S
R
W
N
S
S
E
S
N
S
N
W
W
N
S
N
S
E
W
N
W
W
R
W
S
R
E
S
E
W
N
S
N
S
S
S
S
E
S
S
S
W
W
S
W
E
W
W
E
S
W
S
W
E
S
W
S
N
W
W
N
S
E
S
S
E
W
N
W
E
S
W
N
W
N
S
N
S
E
S
S
R
W
S
E
W
E
S
W
S
N
W
W
S
W
N
S
W
E
W
E
S
E
W
W
E
S
N
S
E
W
S
N
S
N
S
N
W
W
W
S
S
S
E
S
N
S
S
N
S
S
N
S
N
S
N
W
E
S
N
W
N
S
N
S
W
N
W
E
W
E
W
N
W
E
S
W
W
S
W
S
S
E
W
E
W
E
S
N
W
E
W
N
W
E
W
S
N
S
W
N
W
E
S
S
N
W
R
N
W
E
W
N
W
N
W
S
E
S
W
N
W
E
S
E
S
W
W
N
W
N
W
E
W
S
W
W
W
N
W
N
S
N
W
N
S
W
E
S
W
N
S
W
W
E
S
S
R
E
S
W
N
S
S
S
W
N
W
W
N
S
N
S
W
S
N
W
N
S
E
S
E
W
E
W
E
S
E
W
N
W
N
W
N
S
N
W
N
W
E
W
N
W
E
W
S
N
W
N
W
E
S
N
S
N
S
W
E
W
N
W
S
N
S
N
W
E
W
E
W
S
E
W
N
W
E
W
N
S
S
S
S
W
W
N
S
N
S
S
E
S
R
S
W
N
W
W
E
S
S
E
W
N
W
N
W
E
S
S
S
N
S
S
W
S
E
W
W
S
N
S
S
S
N
S
E
W
S
S
W
S
N
S
S
N
S
N
W
W
N
S
N
W
E
W
N
S
E
S
W
N
S
S
E
W
N
W
N
W
E
S
W
R
S
S
E
S
S
W
E
W
S
W
S
E
W
N
S
W
N
S
E
W
E
W
W
W
S
N
W
N
W
S
S
W
W
E
W
N
S
N
S
N
S
N
W
W
N
S
N
S
W
N
S
W
N
W
E
W
W
E
W
E
S
W
N
W
S
E
W
N
W
N
W
S
W
N
S
W
E
W
N
W
N
W
N
W
N
S
E
S
S
N
S
S
N
W
E
S
S
E
W
S
N
W
S
E
S
R
S
N
S
W
E
W
E
W
E
W
S
E
S
W
S
N
S
E
S
N
W
E
W
W
S
E
W
W
E
W
N
S
S
W
S
N
S
S
N
W
W
S
S
S
N
S
E
S
N
W
E
S
N
S
N
S
E
S
W
W
S
W
S
S
W
E
S
S
E
W
E
S
E
S
N
S
W
S
N
W
W
N
W
S
N
W
S
R
E
W
W
N
S
E
S
W
W
N
W
N
W
S
N
S
N
S
E
W
N
S
E
S
E
S
W
W
S
S
N
S
S
N
W
E
S
N
W
E
W
N
W
N
W
E
S
W
W
S
N
W
N
W
N
S
E
W
R
S
W
S
N
S
W
E
W
W
S
E
W
N
W
S
S
S
N
W
N
S
S
N
W
E
W
S
E
S
E
W
N
W
S
E
W
E
S
E
S
N
S
E
S
S
W
E
S
N
W
N
W
W
N
S
W
N
W
E
W
E
S
W
N
S
N
W
W
E
W
E
W
N
W
W
W
N
W
E
W
S
W
N
W
W
W
E
S
W
E
W
S
S
S
S
E
W
N
S
S
W
N
W
W
N
W
S
N
W
N
W
E
S
E
W
E
S
N
S
W
W
E
W
N
S
N
W
E
W
R
W
W
S
S
E
W
S
E
W
E
W
W
W
R
W
N
W
N
W
E
W
E
W
E
W
W
N
W
S
E
S
E
S
W
W
N
S
E
S
N
W
E
S
S
W
N
W
W
E
W
N
W
S
E
S
S
E
S
E
W
E
W
S
N
S
E
S
S
N
W
E
S
E
S
N
W
W
N
S
N
W
N
W
S
E
S
W
E
W
W
N
S
N
S
N
W
S
E
S
E
S
S
E
S
N
W
E
W
N
S
N
W
E
W
E
S
N
W
S
N
W
N
W
E
W
W
S
S
W
N
W
N
W
E
W
N
S
N
W
S
S
N
W
E
S
N
S
N
W
N
W
N
S
N
W
W
W
E
S
S
W
N
W
N
W
E
W
W
E
S
E
W
S
E
S
W
E
W
E
W
N
W
W
E
S
W
E
W
E
S
N
S
N
W
W
W
W
W
S
N
W
N
W
W
W
E
S
S
N
S
W
R
E
W
N
S
S
N
S
N
W
E
W
E
W
E
W
S
N
W
W
W
N
W
S
S
S
W
R
W
N
S
N
W
N
S
N
S
S
E
S
E
S
R
W
N
W
S
E
W
N
W
R
N
S
S
S
N
W
S
N
S
S
E
S
S
N
S
W
S
W
E
W
E
W
W
E
S
E
S
E
W
S
E
S
S
E
W
S
E
W
N
W
N
S
S
N
S
N
W
N
S
N
S
N
W
S
W
E
W
W
E
S
R
S
N
S
E
S
N
W
E
S
E
S
W
S
S
E
W
N
W
E
S
N
W
N
W
W
N
S
N
S
S
E
W
N
S
W
E
W
W
W
N
W
N
S
W
N
W
W
N
S
E
W
E
S
E
S
W
W
S
N
S
E
S
W
E
W
N
S
E
S
E
W
N
S
S
E
W
E
S
E
W
E
W
E
W
E
W
S
S
S
N
S
R
N
S
S
S
S
E
W
W
E
W
E
S
W
W
N
W
W
W
E
S
S
S
E
S
N
S
R
E
S
S
S
E
S
W
E
W
E
S
N
W
W
E
W
S
S
S
E
W
N
S
N
S
E
S
N
W
S
R
E
W
E
W
E
W
E
S
E
S
S
N
W
E
W
E
S
W
S
W
E
W
W
N
S
W
E
W
W
W
N
W
E
W
E
W
W
S
N
S
S
W
N
W
S
E
W
N
W
S
E
W
E
W
S
S
N
S
S
W
N
W
W
N
S
E
W
R
N
W
N
W
W
N
S
N
S
S
N
W
W
W
N
W
S
E
S
E
S
W
N
W
N
W
E
W
S
E
S
N
W
N
S
N
S
N
S
S
N
S
N
S
S
W
N
W
W
S
R
E
W
E
S
N
S
E
S
E
S
S
S
S
N
S
N
S
N
S
W
S
S
E
W
E
W
N
S
E
W
E
S
N
S
W
S
S
N
W
W
W
N
S
W
E
S
S
W
R
E
W
E
W
S
E
W
S
W
S
E
W
N
W
N
W
N
W
E
S
N
W
N
W
E
S
N
W
N
S
S
E
W
N
S
N
W
E
S
S
W
E
S
N
W
N
W
W
W
S
E
S
E
W
S
N
W
N
S
S
W
N
S
E
W
N
S
N
W
E
S
E
S
E
S
N
W
E
W
E
W
N
W
N
W
N
W
S
W
S
S
E
W
E
S
S
S
E
S
S
E
S
S
S
E
S
W
E
S
W
W
W
N
W
W
W
N
S
N
W
N
S
N
S
E
S
E
S
W
S
N
W
E
S
"""


def solve(inp: str) -> int:
    x = 0
    y = 0

    for move in inp.splitlines():  # you can just split at R\n and take the last list
        if move == "N":
            y += 1
        if move == "E":
            x += 1
        if move == "W":
            x -= 1
        if move == "S":
            y -= 1
        if move == "R":
            x, y = 0, 0

    return int(math.sqrt(x**2 + y**2))


if __name__ == "__main__":
    p = generate_problem()
    s = solve(p)
    print(json.dumps({"problem": p, "solution": s}))
